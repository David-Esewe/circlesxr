<html>
<head>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!-- Circles' head scripts [REQUIRED] -->
  <circles-start-scripts/>
  <script src="/worlds/PlaneMap/js/circles-button-press.js"></script>
  <script>
   window.addEventListener('click', function () { 
   document.querySelector('#myLoopingVideo').play();
 });
</script>
</head>
<body>
  <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
  <circles-start-ui/>

  <!-- a-scene with 'circles-properties' component [REQUIRED] -->
  <a-scene circles_scene_properties>
    <a-assets>
      <video id="myLoopingVideo" autoplay loop="true" muted src="/worlds/PlaneMap/assets/mapvideo.mp4" webkit-playsinline playsinline></video>
      <img id='skyMap' src='/global/assets/textures/equirectangular/WhiteBlue.jpg' crossorigin="anonymous">
      <a-asset-item id="map-model"   src="/worlds/PlaneMap/assets/map.glb" response-type="arraybuffer"></a-asset-item>
      <a-asset-item id="plane-model-1"   src="/worlds/PlaneMap/assets/plane1.glb" response-type="arraybuffer"></a-asset-item>
      <!-- Circles' built-in assets [REQUIRED] -->
      <img id='campfire360' src='/global/assets/textures/equirectangular/Campfire_360.jpg' crossorigin="anonymous">
      <circles-assets/>
    </a-assets>

    <!-- Circles' built-in manager and avatar [REQUIRED] -->
    <circles-manager-avatar/>
    <a-entity geometry="primitive: plane; height: 4.5; width: 8" material="src: #myLoopingVideo" position="5.294 2.656 -1.995" rotation="0 -90.235 0"></a-entity>

    <a-sound src="/worlds/PlaneCockpit/assets/press.mp3" autoplay="false" position="0 2 -5" id="press"></a-sound>
    <a-sound src="/worlds/PlaneCockpit/assets/incorrect.mp3" autoplay="false" position="0 2 -5" id="incorrect"></a-sound>
    <a-sound src="/worlds/PlaneCockpit/assets/aviation.mp3" autoplay="true" loop="true" position="0 2 -5" volume="0.5"></a-sound>
    <a-sound src="/worlds/PlaneCockpit/assets/correct.mp3" autoplay="false" position="0 2 -5" id="correct"></a-sound>

    <a-entity position="-3.36 3.756 -4.73"  radius="0.5" height="0.1" circles-button-press="isCorrect: true"></a-entity>
    <a-entity position="-2.35 2.329 -4.73" rotation= "0 0 180" radius="0.5" height="0.1" circles-button-press="isCorrect: true"></a-entity>
    <a-entity position="-0.04 2.259 -4.73"  rotation= "0 0 180" radius="0.5" height="0.1" circles-button-press="isCorrect: true"></a-entity>
    <a-entity position="-0.04 3.14 -4.73"  rotation= "0 0 180" radius="0.5" height="0.1" circles-button-press="isCorrect: false"></a-entity>
    <a-entity position="3.36 1.755 -4.73"  rotation= "0 0 180" radius="0.5" height="0.1" circles-button-press="isCorrect: false"></a-entity>
    <a-entity position="0.37867 0.609 -2.60603" radius="0.5" height="0.3" scale="2.448 2.448 2.448" circles-button="pedastal_visible: false" reset-buttons=""></a-entity>
    <a-entity position="2 4.33 -4.73"  rotation= "0 0 180" radius="0.5" height="0.1" circles-button-press="isCorrect: true"></a-entity>
    <a-video  src="#myLoopingVideo" height= "4.5" width="8" position="5.294 2.656 -1.995" rotation="0 -90.235 0"></a-video>
    <a-entity position="4.43 0.512 -1.728" radius="0.5" height="0.3" scale="1 1 1" circles-button="" id="playButton"></a-entity>
    <!-- Check-win condition button -->

    <a-entity id="Artefact-Picture" 
    class="interactive" 
    position="0.06134 2.93477 -4.61154" 
    rotation="90 179.9998479605043 179.9998479605043" 
    scale="0.01545 0.01545 0.01545" 
    gltf-model="/worlds/PlaneMap/assets/map.glb" 
    shadow=""></a-entity>

    <a-entity id="Artefact-Room" 
    position="0.38131 -4.94 1.8988" scale="8.058 8.058 8.058" 
    gltf-model="/worlds/PlaneMap/assets/controlroom.glb" shadow="" visible=""></a-entity> shadow=""></a-entity>

    <a-entity light="type: spot" position="1.286 2.101 9.469"></a-entity>
    
    <a-entity light="type: spot" position="1.007 11.90 -2.810" rotation="-90 0 0"></a-entity>

    <a-entity id="campfire_link"
                position="1.0 1.5 4.2" rotation="0 90 0" scale="1 1 1"
                circles-portal="img_src:#campfire360; title_text:The Fire; link_url:/w/Campfire"></a-entity>
    <a-entity id="sunlight" position="-1.5 2.06 6.5" rotation="-10 0 0" light="type:spot; angle:50; intensity:20.0; color:#d5e4f5; distance:15.0; penumbra:0.1;" circles-platform-shadows></a-entity>
  

    <a-entity id="link_1"
    position="-0.559 1.7 4.134" rotation="0 56.215 0" scale="0.0001 0.0001 0.0001"
    circles-portal="img_src:#link_1_360; title_text:Growing Up; link_url:/w/WIT_1_Kitchen"
    animation__fireon="property:scale; isRawProperty:true; startEvents:startFireAnim; elasticity:150; autoplay:false; delay:0; dir:normal; dur:1000; easing:easeOutElastic; loop:false; from:0.0001 0.0001 0.0001; to:0.5 0.5 0.5;"
    animation__fireoff="property:scale; isRawProperty:true; startEvents:stopFireAnim; autoplay:false; delay:0; dir:normal; dur:800; easing:easeOutExpo; loop:false; from:0.5 0.5 0.5; to:0.0001 0.0001 0.0001;"
    shadow></a-entity>


    <a-entity id="plane_link"
                position="-6.04263 2.07299 -2.22881" rotation="0 -8.98455118544644 0" scale="2 2 2"
                circles-portal="img_src:#campfire360; title_text:The Base; link_url:/w/PlaneBase" visible="false"></a-entity>
 <a-entity id="sunlight" position="-1.5 2.06 6.5" rotation="-10 0 0" light="type:spot; angle:50; intensity:20.0; color:#d5e4f5; distance:15.0; penumbra:0.1;" circles-platform-shadows></a-entity>

    <a-entity id='skyBox'
                geometry='primitive:sphere; radius:50; segments-height:6; segments-width:6;'
                material='shader:flat; src:#skyMap; side:back;'>
    </a-entity>

   
  </a-scene>

  <!-- Circles' end scripts [REQUIRED] -->
  <circles-end-scripts/>
 </body>
</html>